---
import Button2 from "../components/Button2.astro"
import Close from "../svg/icons/close.svg"
---
<div id="cookieboks" class="z-200 bottom-6 fixed bg-burger-blue px-space-m py-space-s mx-space-s border-display-blue border-2 w-[93vw] md:w-[63vw] lg:w-[47vw]">
    <div class="text-display-blue z-200">
       <div class="flex justify-between">
           <h4>THIS WEBSITE USES COOKIES</h4>
           <img id="closeit" class="w-[2rem]" src={Close} alt="close" />
       </div>

       <br>
       <p class="pb-space-s">We use cookies and similar technologies to enable services and functionality on our site and to understand your interaction with our service. By clicking on accept, you agree to our use of such technologies for marketing and analytics. </p>
       <a href="/privacy/" class="underline bodySmall">See Privacy Policy</a>
    </div>
     
     <div class=" flex justify-center gap-space-m pt-space-m">
     <button id="afvis" class="btn border-black border-2 text-black">Decline all</button>
     
     <Button2 text="Accept All" />
     </div>
   </div>

   <style>
    button{
        padding: var(--secondary-btn-x-padding) var(--secondary-btn-y-padding);
    }

    button:hover{
        background-color: var(--color-accent-blue-50);
        transition: 0.4s ease-in-out;
    }

    .hidden{
        display: none;
    }
   </style>

   <script is:inline>
       //COOKIES
        const acceptCookie = document.querySelector("#accepter");
        const denyCookie = document.querySelector("#afvis");
        const cookieboks = document.querySelector("#cookieboks");

        acceptCookie.addEventListener("click", fjernCookieBoks);
        denyCookie.addEventListener("click", fjernCookieBoks);

        function fjernCookieBoks(){
            cookieboks.classList.add("hidden");
            sessionStorage.setItem("fjerncookieboks", true);
        }

        if(sessionStorage.getItem("fjerncookieboks")){
            cookieboks.classList.add("hidden");
        };

        //CLOSE THE BOX
        document.addEventListener("DOMContentLoaded", closeCookiebox)
        function closeCookiebox(){
        document.querySelector('#closeit').addEventListener('click', () => {
            document.querySelector('#cookieboks').classList.add('hidden');
        
      })};
    
   </script>